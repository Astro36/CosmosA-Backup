var textarea=document.getElementById("textarea"),checkbox=document.getElementById("private_mode"),usedChar;function getRandomChar(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("")[Math.floor(52*Math.random())]}function getRandomStr(){for(var a;!a||-1<usedChar.indexOf(a);){a="";for(var b=Math.floor(2*Math.random())+1;b--;)a+=getRandomChar()}usedChar.push(a);return a}function mangle(){var a=textarea.value,b=checkbox.checked,c;usedChar=[];b=b?/([A-z_$][\w$]*)\.(_[\w$]*)/g:/([A-z_$][\w$]*)\.([A-z_$][\w$]{2,})/g;for(console.log(a.match(b));null!==(c=a.match(b));)c=c[0],a=a.split(c).join(c.split(".")[0]+"."+getRandomStr());textarea.value=a;alert("Finish!")}function clear_(){textarea.value=""};